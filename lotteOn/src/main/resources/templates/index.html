<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <!-- Pretendard Font -->
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable.min.css" />

    <!-- Swiper -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="/script/swiper.js"></script>

    <!-- Favicon -->
    <link rel="icon" sizes="32x32" th:href="@{'/images/config/' + ${config.favicon}}">

    <!-- Script -->
    <script src="/script/search.js"></script>
    <script src="/script/bannerClose.js"></script>

    <!-- Style -->
    <link rel="stylesheet" href="/style/index.css"/>
    <link rel="stylesheet" href="/style/common/_header.css"/>
    <link rel="stylesheet" href="/style/common/_footer.css"/>
    <title th:text="${config.title + ' - ' + config.subTitle}"></title>
</head>
<body>
    <div id="container">
        <div id="mainTopBanner" th:if="${mainTopBanner != null}">
            <div th:each="banner : ${mainTopBanner}">
                <img th:src="${banner.imagePath}" th:alt="${banner.name}">
                <button class="bannerClose"></button>
            </div>
        </div>
        <th:block th:insert="~{/common/_header.html}"/>
        <main>
            <div class="mainContainer">
                <div class="swiper">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide banners" th:each="banner : ${swiperBanner}">
                            <div class="bannerCard">
                                <a href="#">
                                    <img th:src="${banner.imagePath}" th:alt="${banner.name}">
                                    <div class="bannerCardText">
                                        <p class="bannerCardTitle" th:utext="${#strings.replace(banner.sliderTitle, '\n', '<br/>')}"></p>
                                        <p class="bannerCardDesc" th:utext="${#strings.replace(banner.sliderSubTitle, '\n', '<br/>')}"></p>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="adContainer products">
                    <div class="titleWrap">
                        <h2 class="titleLarge">예정 중인 이벤트</h2>
                        <p class="text">브랜드판타지</p>
                    </div>
                    <div class="adImages">
                        <a href="#">
                            <img src="/images/ad3.png" alt="롯데온 광고1">
                        </a>
                        <a href="#">
                            <img src="/images/ad4.png" alt="롯데온 광고2">
                        </a>
                    </div>
                </div>
                <div class="bestProduct products">
                    <div class="titleWrap">
                        <h2 class="titleLarge">온쇼페 베스트 상품</h2>
                        <p class="text">온쇼페의 베스트 상품을 가져왔어요</p>
                    </div>

                    <div class="productItem">
                        <div th:each="p : ${popularProducts}" class="fourItems">
                            <a th:href="@{'/product/detail?productCode=' + ${p.productCode}}">
                                <img th:src="@{'/images/' + ${p.imageList}}" alt="상품이미지">
                            </a>
                            <div class="descWrap">
                                <a th:href="@{'/product/detail?productCode=' + ${p.productCode}}" class="text">
                                    <span class="bold" th:text="${p.companyName}">[브랜드명]</span><br>
                                    <span th:text="${p.name}">상품명</span>
                                </a>
                                <div class="totalPrice">
                                    <!-- 원래 가격 -->
                                    <del>
                                        <p th:text="${#numbers.formatInteger(p.price, 3, 'COMMA')}"></p>
                                        <span>원</span>
                                    </del>
                                </div>
                                <div class="priceInfo">
                                    <p class="discount" th:text="${p.discount + '%'}"></p>
                                    <div class="price">
                                        <p th:text="${#numbers.formatInteger(p.price * (100 - p.discount) / 100, 3, 'COMMA')}"></p>
                                        <span>원</span>
                                    </div>
                                </div>
                                <div class="review">
                                    <span class="starGrade"></span>
                                    <span class="rating">4.8</span> <!-- 평점 평균 값이 있다면 여기에 바인딩 -->
                                    <div class="v-l"></div>
                                    <span class="reviewInfo">리뷰</span>
                                    <span class="reviewCount" th:text="${p.views}"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="specialProduct products">
                    <div class="titleWrap">
                        <h2 class="titleLarge">온쇼페 특가에 진심</h2>
                        <p class="text">먼저 보는 자가 특가를 가진다</p>
                    </div>
                    <div class="productItem">
                        <div class="threeItems" th:each="product : ${specialProducts}">
                            <a th:href="@{'/product/detail/' + ${product.productCode}}">
                                <img th:src="@{'/images/' + ${product.imageList}}" alt="상품이미지">
                            </a>
                            <div class="descWrap">
                                <a th:href="@{'/product/detail/' + ${product.productCode}}" class="text">
                                    <span class="bold" th:text="${product.companyName}">농협안심한우</span>
                                    <span th:text="${product.name}">상품명</span>
                                </a>
                                <div class="priceInfo">
                                    <p class="discount" th:text="${product.discount + '%'}">20%</p>
                                    <div class="price">
                                        <p th:text="${#numbers.formatInteger(product.price * (100 - product.discount) / 100, 3, 'COMMA')}"></p>
                                        <span>원</span>
                                    </div>
                                    <div class="totalPrice">
                                        <del>
                                            <p th:text="${#numbers.formatInteger(product.price, 3, 'COMMA')}"></p>
                                            <span>원</span>
                                        </del>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <th:block th:replace="/common/_footer.html :: footerFragment(versionId=${selectedVersionId})"/>
    </div>
</body>
</html>